<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Poems</title>

  <!-- reuse main styles? -->
  <link rel="stylesheet" href="../css/global.css" />
  <link rel="stylesheet" href="../css/home.css" />

  <style>
    body {
      margin: 0;
      padding: 0;
      background: #ff948f;
    }

  .poem-layout-wrapper {
      background: #ff948f;
      margin: 0;
      padding: 0;
    }

  .poem-layout {
      display: grid;
      background: #ff948f;
      grid-template-columns: minmax(0, 1fr) minmax(0, 1fr);
      border: none;
      gap: 10px;
      align-items: flex-start;
    }

    .poem-column {
      background-color: var(--offwhite, #fffbfa);
      border-radius: 5px;
      border: 0.5px solid #969696;
      padding: 0px;
      line-height: 1.3;
    }

    .poem-column h3 {
      margin-bottom: 0.3rem;
    }

    .poem-column p {
      margin-bottom: 0.5rem;
    }

    .poem-column iframe {
      width: 100%;
      height: 98vh;
      border: none;
      border-radius: 5px;
      overflow: hidden;
    }

    .poem-mobile-controls {
        display: none;
        font-weight: bold;
        align-items: center;
        justify-content: center;
        gap: 10px;
        padding: 0px 0px 5px 0px;
        font-size: 1em;
    }

    
      .poem-mobile-button {
          border: none;
          background: none;
          padding: 0px 10px 0px 10px;
          cursor: pointer;
          font: inherit;
      }

      .poem-mobile-button:active {
        transform: translateY(1px);
      }

      .poem-mobile-label {
        opacity: 0.7;
      }
    
  /* MOBILE */
    @media (max-width: 600px) {
      
      .poem-column {
        display: none;
      }

      .poem-column.is-active {
        display: block;
      }
      
      .poem-layout {
        grid-template-columns: 1fr;
      }

      .poem-column iframe {
        height: 94vh;
      }

      .poem-mobile-controls {
        display: flex;
      }
    }
      
  </style>
</head>
  
<body>
  <main class="poem-layout-wrapper">
      <!-- MOBILE -->
    <div class="poem-mobile-controls" aria-label="Switch poem panel">
        <button
          type="button"
          class="poem-mobile-button"
          id="poem-prev"
          aria-label="Previous poem panel"
        >
          ‹
        </button>
      
        <button
          type="button"
          class="poem-mobile-button"
          id="poem-next"
          aria-label="Next poem panel"
        >
          ›
        </button>
      </div>

    
    <div class="poem-layout" id="poem-layout">

<!-- Poem 1 -->
  <section class="poem-column is-active">
    <iframe
      src="https://docs.google.com/document/d/e/2PACX-1vTZe5fvmibqJAiJ5HaXy9Vpe7XmMOpp8nQeXJhgTLNN2ZM_nUiUEt25Zd9I2CtbxlMr8MslbigE4n4e/pub?embedded=true"
      title="Logan's poem"
      loading="lazy"
    ></iframe>
  </section>

  <!-- Poem 2 -->
  <section class="poem-column">
    <iframe
      src="https://docs.google.com/document/d/e/2PACX-1vSy1EGoAkVE3ZoMuFP0EjEUVtiupYLtOf--2RDB1MCMsF0D_GTubl4YTtbMdt-KOrC7H154tSc92otl/pub?embedded=true"
      title="Another poem"
      loading="lazy"
    ></iframe>
  </section>

  <!-- Poem 3 -->
  <section class="poem-column">
    <iframe
      src="https://docs.google.com/document/d/e/2PACX-1vQeo-OMLPjUiy7BbHjcCSezACeD8BlxkpmXcpzPVrsRoVoK9w_ziYJhmEmHmw-xBLTm16T4v2MFjAxw/pub?embedded=true"
      title="Another poem"
      loading="lazy"
    ></iframe>
  </section>
</div>


  </main>


<script>
  (function () {
    const layout = document.getElementById('poem-layout');
    if (!layout) return;

    const columns = Array.from(layout.querySelectorAll('.poem-column'));
    if (columns.length === 0) return;

    const prevBtn = document.getElementById('poem-prev');
    const nextBtn = document.getElementById('poem-next');

    // start from the one marked is-active, or 0
    let current = columns.findIndex(col =>
      col.classList.contains('is-active')
    );
    if (current === -1) current = 0;

    function updateView() {
      columns.forEach((col, idx) => {
        col.classList.toggle('is-active', idx === current);
      });
    }

    function go(delta) {
      current = (current + delta + columns.length) % columns.length;
      updateView();
    }

    if (prevBtn && nextBtn) {
      prevBtn.addEventListener('click', () => go(-1));
      nextBtn.addEventListener('click', () => go(1));
    }

    updateView();
  })();
</script>

        
</body>
<!-- nice!-->
</html>
